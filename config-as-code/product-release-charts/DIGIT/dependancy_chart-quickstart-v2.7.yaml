version: v2.4
modules:
    - name: backbone
      services:
        - zookeeper-v2
        - kafka-v2
        #- postgres
        - ingress-nginx
        - redis
        - elasticsearch-data-v1
        - elasticsearch-master-v1
        #- s3-proxy      
    - name: core
      dependencies:
        - "backbone" 
        - "frontend"
      services:
        - egovio/egov-accesscontrol:v1.1.3-72f8a8f87b-24
        - egovio/egov-enc-service:v1.1.2-72f8a8f87b-9
        - egovio/egov-idgen:v1.2.3-72f8a8f87b-7
        - egovio/egov-indexer:v1.1.7-f52184e6ba-25
        - egovio/egov-localization:v1.1.3-72f8a8f87b-6
        - egovio/egov-mdms-service:v1.3.2-72f8a8f87b-12
        - egovio/egov-otp:v1.2.2-72f8a8f87b-12
        - egovio/egov-persister:v1.1.4-72f8a8f87b-6
        - egovio/egov-user:v1.2.7-cc363f0584-12
        - egovio/user-otp:v1.1.5-1715164454-3
        - egovio/egov-workflow-v2:v1.2.1-df98ec3c35-2
        - egovio/egov-location:v1.1.4-72f8a8f87b-6
        - zuul:v1.3.1-96b24b0d72-39 
        - egovio/egov-user-event:v1.2.0-c1e1e8ce24-21
        - egovio/egov-url-shortening:v1.1.2-1715164454-3
    - name: business
      dependencies:
        - "core"
      services:
        - egovio/egov-hrms:v1.2.5-1715164454-6
    - name: frontend             
      dependencies:
        - "business"
      services:
        - egovio/employee:v1.8.0-2ac8314b2f-116
        - egovio/digit-ui:v1.5.0-dc44c10a7b-739  
        - egovio/citizen:v1.9.0-98adbd4488-17
    - name: m_pgr             
      dependencies:
        - "core"
        - "business"
      services:
        - egovio/pgr-services:v1.1.4-c856353983-23
    - name: m_dss   #dss
      dependencies:        
          - "frontend"
          - "core"
          - "business"
          - "health"
      services:
        - egovio/dashboard-analytics:v1.1.8-d93a120c25-2
        - egovio/dashboard-ingest:v1.1.4-d93a120c25-2  
        - egovio/dss-dashboard:v1.9.0-98adbd4488-1
    - name: health
      dependencies:
        - "backbone"
        - "core"
      services:
        - ggakg/loan:latest
        - ggakg/scheme:latest
        - egovio/facility:v1.1.0-73167482a2-28
        - ggakg/product:latest
        - egovio/individual:v1.1.0-73167482a2-82
        - egovio/stock:v1.1.0-73167482a2-36
        - egovio/project:v1.1.0-73167482a2-80
        - egovio/household:v1.1.0-73167482a2-50
        - egovio/transformer:v1.1.0-73167482a2-38
